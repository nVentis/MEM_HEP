import sys, os
import logging
import click

# use conda environment py311 at /nfs/dust/ilc/user/bliewert/.mambaforge/envs/py311
# execute by calling python cli

logger = logging.getLogger('mem_hep')
logger.setLevel(logging.DEBUG)
ch = logging.StreamHandler()
ch.setFormatter(logging.Formatter('[%(asctime)s %(levelname)s]: %(message)s'))
logger.addHandler(ch)

#from analysis.commands.mem_plot import mem_plot

# Grouped commands
from analysis.cli_plot import cli_plot
from analysis.cli_convert import cli_convert
from analysis.cli_mem import cli_mem

# Individual commands
from analysis.cli_commands.me import me_command, me_all_command
from analysis.energy_transfer import plot_jet_energy_transfer_from_file_command

@click.group()
def cli():
    pass

@click.command()
def initdb():
    click.echo('Initialized the database')

@click.command()
def dropdb():
    click.echo('Dropped the database')

# Examples:
# python cli me_all /nfs/dust/ilc/user/bliewert/fullflow_v3/comparison/root/prod /nfs/dust/ilc/user/bliewert/fullflow_v3/comparison/npy
# python cli jet_et_plot /nfs/dust/ilc/user/bliewert/fullflow_v3/comparison/npy/reco/compare_reco.npy /afs/desy.de/user/b/bliewert/public/MarlinWorkdirs/MEM_HEP/results/jet_et 
if __name__ == '__main__':
    cli.add_command(cli_plot)
    cli.add_command(cli_convert)
    cli.add_command(cli_mem)
    cli.add_command(initdb)
    cli.add_command(dropdb)
    cli.add_command(me_command)
    cli.add_command(me_all_command)
    cli.add_command(plot_jet_energy_transfer_from_file_command)
    cli()